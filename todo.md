# TODO

## 2인 멀티 게임 구현 계획

### 1. 게임 모드/화면 설계
- [ ] 시작 메뉴에 `싱글 / 2인 로컬 / 2인 네트워크(선택)` 모드 추가
- [ ] 2인 모드에서 좌/우 보드 분할 레이아웃 정의
- [ ] 각 플레이어 점수, 레벨, 다음 블록 UI를 독립적으로 표시

### 2. 입력 체계 분리
- [ ] 플레이어 1 키맵 정의 (예: `WASD + Shift`)
- [ ] 플레이어 2 키맵 정의 (예: `방향키 + Space`)
- [ ] 이벤트 루프에서 키 입력을 플레이어별로 라우팅

### 3. 게임 상태 분리/재사용
- [ ] `Board`, `Piece`, 점수/레벨 상태를 플레이어 단위로 인스턴스화
- [ ] 공통 로직(회전/이동/충돌/줄삭제)을 재사용 가능한 함수로 정리
- [ ] 플레이어별 게임오버 상태를 독립 처리

### 4. 대전 규칙(공격/방어)
- [ ] 줄 삭제 시 상대에게 `garbage line` 전송 규칙 정의
  - [ ] 1줄 삭제: 0줄 공격
  - [ ] 2줄 삭제: 1줄 공격
  - [ ] 3줄 삭제: 2줄 공격
  - [ ] 4줄 삭제(Tetris): 4줄 공격
- [ ] 연속 삭제 콤보 보너스 규칙 추가
- [ ] garbage 삽입 시 랜덤 구멍 위치 생성

### 5. 승패 조건
- [ ] 한쪽이 먼저 게임오버 되면 상대 승리
- [ ] 동시 게임오버 처리(무승부 or 재경기) 규칙 정의
- [ ] 경기 종료 후 결과 화면 및 재시작/메뉴 복귀 제공

### 6. 네트워크 멀티(선택 확장)
- [ ] 동기화 방식 결정 (Lockstep 또는 상태 스냅샷)
- [ ] Python `socket` 기반 최소 프로토콜 정의
- [ ] 지연(latency) 대응 정책(입력 버퍼/보정) 적용

### 7. 테스트 항목
- [ ] 양쪽 보드에서 동시 입력 시 프레임 드랍 없는지 확인
- [ ] garbage line 전송/수신 정확성 테스트
- [ ] 경기 종료 조건(승/패/무승부) 시나리오 테스트
- [ ] 키 중복 입력 및 경계 충돌 회귀 테스트

### 8. 마일스톤
- [ ] M1: 로컬 2인 보드/입력 분리 완료
- [ ] M2: 대전 규칙(공격/가비지) 적용
- [ ] M3: 승패/결과 화면 및 UX 개선
- [ ] M4: (선택) 네트워크 멀티 프로토타입
